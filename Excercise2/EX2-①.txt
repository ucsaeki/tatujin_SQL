EX2-① ウィンドウ関数の結果予想 その1

・範囲を指定するフレーム句も、範囲を分割するPARTITION BY句も、順番を指定するORDER BY句も定義されていないため、範囲の絞り込み、範囲の分割、順番の指定、が行われず、テーブル全体を範囲とするSUM関数として機能し、テーブルのすべてのサーバーの負荷量の合計値が全ての行に対して表示される。

・予想できていなかったこと
→ソートが機能せず、順番がバラバラになったこと。ウィンドウ関数は内部でソートを行っているという記述があったが、SUM関数以外の条件が定義されていないことでウィンドウ関数としての処理が行われず、ソートも行われなかった、もしくはすべてのレコードで同じ値であるsum_loadに関してソートが行われたために、他のカラムに関してはバラバラに表示されたのではないかと考える。

SELECT
	server,
	sample_date,
	SUM(load_val) OVER () AS sum_load
FROM
	ServerLoadSamples
;